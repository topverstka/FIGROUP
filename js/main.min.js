"use strict";function find(e){return d.querySelector(e)}function findAll(e){return d.querySelectorAll(e)}function removeAll(e,t){"string"==typeof e&&(e=document.querySelectorAll(e));for(let o=0;o<e.length;o++){const n=e[o];n.classList.remove(t)}}function bodyLock(e){!0===e?body.classList.add("_lock"):!1===e?body.classList.remove("_lock"):void 0===e?body.classList.contains("_lock")?body.classList.remove("_lock"):body.classList.add("_lock"):console.error("Неопределенный аргумент у функции bodyLock()")}function formInputRequiredLabel(){const e=findAll(".form-elem__area._required");for(let t=0;t<e.length;t++){const o=e[t],n=o.parentNode,s=document.createElement("span");s.classList.add("form-elem__required"),s.innerText="*",n.append(s)}}function animIllMain(){find(".anim-ill")&&$(function(){window.innerWidth>768&&$(".js-tilt").tilt()})}function animScrollMainPage(){const e=find(".advantages");window.addEventListener("scroll",t=>{const o=e.getBoundingClientRect().top-window.innerHeight+e.clientHeight,n=e.getBoundingClientRect().top;n>=0&&o<=0&&console.log("ok")})}function validationForm(){const e=find("#user_name"),t=find("#user_phone"),o=find("#user_email");let n=!0;for(let s=0;s<[e,t,o].length;s++){const l=[e,t,o][s],i=l.value.trim();""===i?(l.classList.add("_error"),n=!1):(l.classList.remove("_error"),n=!0)}return n}function sumbitForm(){const e=find(".modal__form");e.addEventListener("submit",async t=>{const o=find(".modal._show"),n=e.querySelector("[type=submit]");t.preventDefault();let s=validationForm();if(!0===s){const t=new FormData,s=e.getAttribute("action");n.classList.add("send-preloader");let l=await fetch(s,{method:"POST",body:t});setTimeout(()=>{l.ok?(console.log("Successful"),e.reset(),o.classList.remove("_show"),find("#send-done").classList.add("_show"),n.classList.remove("send-preloader")):(console.log("Error"),e.reset(),o.classList.remove("_show"),find("#send-error").classList.add("_show"),n.classList.remove("send-preloader"))},2e3)}})}function fixHeaderWhenScroll(){function e(){scrollY>=s?o.classList.add("_show"):o.classList.remove("_show")}const t=find(".header"),o=document.createElement("div"),n=300,s=window.innerHeight,l=find(".wrapper");o.innerHTML=t.innerHTML,o.classList.add("header","_fixed"),l.prepend(o),o.style.transition=n/1e3+"s",window.addEventListener("scroll",e);const i=o.querySelectorAll(".wow");for(let e=0;e<i.length;e++){const t=i[e];t.classList.remove("wow")}e()}function menu(){const e=findAll(".burger");for(let t=0;t<e.length;t++){const o=e[t],n=o.previousElementSibling;window.addEventListener("resize",()=>{const e=find(".header").clientHeight;window.innerWidth<=768?n.style.paddingTop=e+"px":n.style.paddingTop=0}),o.addEventListener("click",e=>{o.classList.toggle("burger_close"),n.classList.toggle("_show"),bodyLock()})}}function advantagesSlider(){function e(e){const t=o.scrollWidth,n=t/s;"next"===e?(a+=n,a>=t-n&&(a=t-n),o.style.transform=`translateX(-${a}px)`):"prev"===e&&(a-=n,a<=0&&(a=0),o.style.transform=`translateX(-${a}px)`)}const t=find(".advantages__slider"),o=t.querySelector(".advantages__wrapper"),n=t.querySelectorAll(".advantages__slide"),s=n.length,l=t.querySelector(".advantages__next"),i=t.querySelector(".advantages__prev");let a=0;const c=300;o.style.transition=c/1e3+"s",l.addEventListener("click",()=>{e("next")}),i.addEventListener("click",()=>{e("prev")})}function advantagesSlider(){function e(){function e(e){function a(t){const a=c.scrollWidth,r=a/d;n=!1,-1===t?(o+=r,o>a-r?(s=!0,o=a-r,console.log("> wrapperWidth - scrollPart"),setTimeout(()=>{i=!0},f)):(s=!1,i=!1,e.preventDefault()),c.style.transform=`translateX(-${o}px)`,!0===s?(n=!0,console.log("ok")):setTimeout(()=>{n=!0},f)):1===t&&(o-=r,console.log(o),o<0?(s=!0,o=0,console.log("< 0"),setTimeout(()=>{l=!0},f)):(s=!1,l=!1,e.preventDefault()),c.style.transform=`translateX(-${o}px)`,!0===s?n=!0:setTimeout(()=>{n=!0},f))}const c=t.querySelector(".advantages__wrapper"),r=t.querySelectorAll(".advantages__slide"),d=r.length,u=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),f=1e3;c.style.transition=f/1e3+"s",console.log(n),!0===n?a(u):!1===n&&(e.preventDefault(),console.log("allowScroll e.preventDefault()")),!1===l&&!1===i&&(e.preventDefault(),console.log("allowVert e.preventDefault()"))}t.addEventListener?(t.addEventListener("mousewheel",e,!1),t.addEventListener("DOMMouseScroll",e,!1)):t.attachEvent("onmousewheel",e)}const t=find(".advantages__slider");let o=0,n=!0,s=!0,l=!0,i=!0;e()}function modal(){function e(){if(window.location.hash){const e=window.location.hash.substring(1),t=document.querySelector(`.modal#${e}`);t&&(t.classList.add("_show"),bodyLock(!0),l(`#${e} .modal__content`,t))}}function t(){const e=document.querySelectorAll(".modal");for(let t=0;t<e.length;t++){const o=e[t],s=o.querySelector(".modal__close");s.addEventListener("click",()=>{o.classList.remove("_show"),bodyLock(!1),n()})}}function o(){const e=document.querySelectorAll(".modal");for(let t=0;t<e.length;t++){const o=e[t];document.addEventListener("keydown",function(e){"Escape"===e.key&&(o.classList.remove("_show"),bodyLock(!1),n())})}}function n(){const e=window.pageYOffset;window.location.hash="",window.scrollTo(0,e)}function s(){const e=document.querySelectorAll("[data-modal-open]");for(let t=0;t<e.length;t++){const o=e[t];o.addEventListener("click",e=>{const t=o.dataset.modalOpen,n=document.querySelector(`#${t}`);o.classList.add("modal-show"),n.classList.add("_show"),bodyLock(!0),l(`#${t} .modal__content`,n),window.location.hash=t})}}function l(e,t,o="_show"){document.addEventListener("click",s=>{let l=document.querySelectorAll(e);for(let e=0;e<l.length;e++){const i=l[e],a=s.target,c=a==i||i.contains(a),r=i.classList.contains(o);if(t){const e=a==t||t.contains(a),s=t.classList.contains(o);!c&&e&&s&&(t.classList.remove(o),body.classList.contains("_lock")&&bodyLock(!1),window.location.hash==="#"+t.getAttribute("id")&&n())}else!c&&r&&(i.classList.remove(o),body.classList.contains("_lock")&&bodyLock(!1),window.location.hash==="#"+t.getAttribute("id")&&n())}})}e(),t(),o(),s()}function tabsCatSection(){const e=findAll(".cat-section__choice-chips");for(let t=0;t<e.length;t++){const o=e[t];o.addEventListener("click",()=>{showCardsCatSection(o),activeTabCatSection(o)})}}function showCardsCatSection(e){const t=e.dataset.tabCat,o=findAll(".cat-section__cat-card"),n=o[0].parentNode,s=findAll(`[data-card-cat=${t}]`);removeAll(o,"_show");for(let e=0;e<s.length;e++){const t=s[e];t.classList.add("_show"),0===e?n.prepend(t):n.insertBefore(t,s[0].nextSibling)}}function activeTabCatSection(e){const t=findAll(".cat-section__choice-chips");removeAll(t,"_active"),e.classList.add("_active")}function showMore(){}function showMoreCatSection(){const e=find(".cat-section__more"),t=findAll(".cat-section__cat-card._show"),o=t[0].parentNode;e.addEventListener("click",()=>{if("show_more"===e.dataset.moreCat)for(let n=0;n<t.length;n++){const s=t[n];n>2&&s.classList.add("_show"),o.classList.add("show-more_active"),e.dataset.moreCat="hide_more",e.innerText="Скрыть"}else if("hide_more"===e.dataset.moreCat)for(let n=0;n<t.length;n++){const s=t[n];n>2&&s.classList.remove("_show"),o.classList.remove("show-more_active"),e.dataset.moreCat="show_more",e.innerText="Показать еще"}})}function showBtnMoreCatSection(){const e=find(".cat-section__more"),t=findAll(".cat-section__cat-card._show");t.length>3?e.classList.add("_show"):e.classList.remove("_show")}const d=document,body=d.querySelector("body");formInputRequiredLabel(),animIllMain(),sumbitForm(),fixHeaderWhenScroll(),menu(),window.innerWidth>768&&find(".advantages__slider")&&advantagesSlider();const teamSlider=new Swiper(".team-slider",{loop:!0,breakpoints:{600:{slidesPerView:2,spaceBetween:30},0:{slidesPerView:1,spaceBetween:30,centeredSlides:!1}},navigation:{nextEl:".team-slider__next",prevEl:".team-slider__prev"}});modal(),tabsCatSection(),showMore(),find(".cat-section__cat-card")&&showMoreCatSection();